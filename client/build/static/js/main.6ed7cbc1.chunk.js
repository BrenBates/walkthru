(this.webpackJsonpwalkthru=this.webpackJsonpwalkthru||[]).push([[0],{156:function(e,t,a){e.exports=a(337)},162:function(e,t,a){},184:function(e,t,a){},328:function(e,t,a){},329:function(e,t,a){},337:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(28),c=a.n(l),i=(a(161),a(162),a(5)),o=a(15),u=a(23),m=a(11),s=Object(n.createContext)();function b(){return Object(n.useContext)(s)}var d=function(e){var t=e.component,a=Object(m.a)(e,["component"]),n=b().authTokens;return r.a.createElement(u.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(u.a,{to:{pathname:"/login",state:{referer:e.location}}})}}))};var p=function(e){return r.a.createElement("div",null,"Home Page")},E=a(16),h=a.n(E),g=(a(184),a(7)),f=a(8),j=a(338),O=a(339),v=a(340),S=a(58),x=a(59),y=a(61),w=a(60),k=a(62),N=a(63),q={width:"90%",height:"400px"},R=function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(y.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(l)))).displayMarkers=function(){return a.props.mapInfo.map((function(e,t){return r.a.createElement(N.Marker,{key:t,id:t,position:{lat:e.lat,lng:e.long},onClick:function(){a.props.clickHouse(e._id)}})}))},a}return Object(k.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){return r.a.createElement(N.Map,{google:this.props.google,zoom:8,style:q,initialCenter:{lat:40.759,lng:-111.876}},this.displayMarkers())}}]),t}(r.a.Component),I=Object(N.GoogleApiWrapper)({apiKey:"AIzaSyAMNknoCxB5QgbbRHfRWwB05nWZgRkjwp4"})(R);var C=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),l=a[0],c=a[1],u=Object(n.useState)({}),s=Object(i.a)(u,2),b=s[0],d=s[1],p=Object(n.useState)(!1),E=Object(i.a)(p,2),S=E[0],x=E[1],y=function(e){var t=e.label,a=Object(m.a)(e,["label"]),n=Object(f.c)(a),l=Object(i.a)(n,2),c=l[0],o=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:a.id||a.name},t),r.a.createElement("input",Object.assign({className:"text-input"},c,a)),o.touched&&o.error?r.a.createElement("div",{className:"error"},o.error):null)};return Object(n.useEffect)((function(){h.a.get("/api/houses/",{}).then((function(e){c(e.data)}))}),[]),r.a.createElement("div",null,r.a.createElement(j.a,null,r.a.createElement(O.a,null,r.a.createElement(v.a,{xs:"12"},r.a.createElement(f.b,{initialValues:{street:"",city:"",st:""},validationSchema:g.object({street:g.string().max(25,"Must be 25 characters or less").required("Required"),city:g.string().max(20,"Must be 20 characters or less").required("Required"),st:g.string().max(15,"Must be 15 characters or less")}),onSubmit:function(e,t){t.setSubmitting;console.log("submit button hit")}},r.a.createElement(f.a,{className:"landSrchHouseFrm"},r.a.createElement(O.a,null,r.a.createElement(v.a,{xs:"5"},r.a.createElement(y,{className:"landSrchInput",name:"street",type:"text",placeholder:"123 N 456 W"})),r.a.createElement(v.a,{xs:"4"},r.a.createElement(y,{className:"landSrchInput",name:"city",type:"text",placeholder:"City"})),r.a.createElement(v.a,{xs:"3"},r.a.createElement(y,{className:"landSrchInput",name:"st",type:"text",placeholder:"State"}))),r.a.createElement(O.a,null,r.a.createElement(v.a,{xs:"6",md:"3"},r.a.createElement("p",null,"Search for a house:")),r.a.createElement(v.a,{xs:"2"},r.a.createElement("button",{className:"landSrchHouseBtn",type:"submit"},"Submit"))))))),r.a.createElement(O.a,null,r.a.createElement(v.a,{xs:"6"},r.a.createElement(I,{mapInfo:l,clickHouse:function(e){var t=l.filter((function(t){return t._id===e}));d(t[0]),x(!0)}})),r.a.createElement(v.a,{xs:"6"},r.a.createElement("p",null,"Selected House:"),S?r.a.createElement("div",null,r.a.createElement(o.b,{to:"/api/houses/"+b._id},"Go to House"),r.a.createElement("p",null,b.headline),r.a.createElement("p",null,b.street),r.a.createElement("p",null,b.city),r.a.createElement("p",null,b.state),r.a.createElement("img",{className:"landingImg",src:b.houseImageURL,alt:"house"})):r.a.createElement("p",null)))))},F=(a(328),a(341)),M=a(342),T=a(343),A=a(344),L=a(345),P=a(346),H=function(e){function t(){return Object(S.a)(this,t),Object(y.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(F.a,null,r.a.createElement(O.a,null,r.a.createElement(v.a,{xs:"6"},r.a.createElement(O.a,null,r.a.createElement(v.a,{xs:"6"},this.props.name),r.a.createElement(v.a,{xs:"6"},r.a.createElement("img",{alt:"user",src:this.props.image})))),r.a.createElement(v.a,{xs:"6"},r.a.createElement("p",{className:"commentText"},this.props.text)))))}}]),t}(r.a.Component);var U=function(e){var t=function(e){var t=e.label,a=Object(m.a)(e,["label"]),n=Object(f.c)(a),l=Object(i.a)(n,2),c=l[0],o=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:a.id||a.name},t),r.a.createElement("input",Object.assign({className:"text-input"},c,a)),o.touched&&o.error?r.a.createElement("div",{className:"error"},o.error):null)},a=Object(n.useState)(""),l=Object(i.a)(a,2),c=l[0],o=l[1],u=Object(n.useState)(!1),b=Object(i.a)(u,2),d=b[0],p=b[1],E=Object(n.useState)(""),S=Object(i.a)(E,2),x=S[0],y=S[1],w=Object(n.useState)(""),k=Object(i.a)(w,2),N=k[0],q=k[1],R=Object(n.useState)(""),I=Object(i.a)(R,2),C=I[0],U=I[1],z=Object(n.useState)(""),W=Object(i.a)(z,2),V=W[0],B=W[1],Z=Object(n.useState)(""),_=Object(i.a)(Z,2),J=_[0],G=_[1],D=Object(n.useState)(""),Y=Object(i.a)(D,2),K=Y[0],Q=Y[1],$=Object(n.useState)(""),X=Object(i.a)($,2),ee=X[0],te=X[1],ae=Object(n.useState)(!1),ne=Object(i.a)(ae,2),re=ne[0],le=ne[1],ce=Object(n.useState)(!0),ie=Object(i.a)(ce,2),oe=ie[0],ue=ie[1],me=Object(n.useState)([]),se=Object(i.a)(me,2),be=se[0],de=se[1],pe=Object(n.useState)(!1),Ee=Object(i.a)(pe,2),he=Ee[0],ge=Ee[1],fe=Object(n.useState)(0),je=Object(i.a)(fe,2),Oe=je[0],ve=je[1];Object(n.useEffect)((function(){o("/api/houses/"+e.match.params.id),Se(e.match.params.id)}),[e.match.params.id]),Object(n.useEffect)((function(){h.a.get(c).then((function(e){var t=e.data;y(t._id),U(t.headline),q(t.houseImageURL),B(t.street),G(t.city),Q(t.state),te(t.zip),le(t.forRent),ue(t.forSale),p(!0)}))}),[c]),Object(n.useEffect)((function(){Se(e.match.params.id)}),[Oe,e.match.params.id]);var Se=function(e){var t="/api/comments/byhouse/"+e;h.a.get(t).then((function(e){de(e.data),ge(!0)}))};return r.a.createElement("div",null,function(){if(d)return r.a.createElement("div",null,r.a.createElement(O.a,null,r.a.createElement(v.a,null,r.a.createElement(j.a,null,r.a.createElement(F.a,null,r.a.createElement(O.a,null,r.a.createElement(v.a,null,r.a.createElement(M.a,{top:!0,width:"100%",src:N,alt:"Card image cap"})),r.a.createElement(v.a,null,r.a.createElement(T.a,null,r.a.createElement(A.a,null,C),r.a.createElement(L.a,null,oe?"This property is for sale":re?"This property is for rent":""),r.a.createElement(P.a,null,V,", ",J,", ",K,", ",ee)))))))),r.a.createElement(s.Consumer,null,(function(e){return r.a.createElement(f.b,{initialValues:{comment:""},validationSchema:g.object({comment:g.string().min(1,"Must have at least one character").required("Required")}),onSubmit:function(t,a){a.setSubmitting;var n=e.authTokens.username,r=e.authTokens.userImage,l=t.comment;h.a.post("/api/comments/byhouse",{houseID:x,userName:n,userImage:r,comment:l}).then((function(e){console.log("made it back"),console.log(e),ve(Oe+1),t.comment=""}))}},r.a.createElement(f.a,null,r.a.createElement(t,{label:"New Comment",name:"comment",type:"text",placeholder:"Enter new comment..."}),r.a.createElement("button",{type:"submit"},"Add Comment")))})))}(),function(){if(he)return be.map((function(e){return r.a.createElement(H,{name:e.userName,image:e.userImage,text:e.comment,key:e._id})}))}())};a(329);var z=function(e){var t=function(e){var t=e.label,a=Object(m.a)(e,["label"]),n=Object(f.c)(a),l=Object(i.a)(n,2),c=l[0],o=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:a.id||a.name},t),r.a.createElement("input",Object.assign({className:"text-input"},c,a)),o.touched&&o.error?r.a.createElement("div",{className:"error"},o.error):null)};return r.a.createElement(s.Consumer,null,(function(e){return r.a.createElement("div",null,r.a.createElement("h4",null,"welcome ".concat(e.authTokens.username)),r.a.createElement("img",{className:"userProfileImg",alt:"profile pic",src:e.authTokens.userImage}),r.a.createElement(f.b,{initialValues:{picURL:""},validationSchema:g.object({picURL:g.string().url("Must enter a URL").required("Required")}),onSubmit:function(t,a){a.setSubmitting;var n=t.picURL;h.a.put("/api/users/",{user:e.authTokens.username,imgURL:n}).then((function(e){console.log("result"),console.log(e)}))}},r.a.createElement(f.a,null,r.a.createElement(t,{label:"Change your profile picture:",name:"picURL",type:"text",placeholder:"http://yourimagehere.com"}),r.a.createElement("button",{type:"submit"},"Submit"),r.a.createElement("p",null,"You must log out and back in for your pic to change"))))}))},W=(a(87),a(88),a(39)),V=a.n(W),B=a(29),Z=a(30);function _(){var e=Object(B.a)(["\n  background-color: red;\n"]);return _=function(){return e},e}function J(){var e=Object(B.a)(["\n  width: 50%;\n  margin-bottom: 1rem;\n"]);return J=function(){return e},e}function G(){var e=Object(B.a)(["\n  background: linear-gradient(to bottom, #6371c7, #5563c1);\n  border-color: #3f4eae;\n  border-radius: 3px;\n  padding: 1rem;\n  color: white;\n  font-weight: 700;\n  width: 100%;\n  margin-bottom: 1rem;\n  font-size: 0.8rem;\n"]);return G=function(){return e},e}function D(){var e=Object(B.a)(["\n  padding: 1rem;\n  border: 1px solid #999;\n  margin-bottom: 1rem;\n  font-size: 0.8rem;\n"]);return D=function(){return e},e}function Y(){var e=Object(B.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]);return Y=function(){return e},e}function K(){var e=Object(B.a)(["\n  box-sizing: border-box;\n  max-width: 410px;\n  margin: 0 auto;\n  padding: 0 2rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return K=function(){return e},e}var Q=Z.a.div(K()),$=(Z.a.div(Y()),Z.a.input(D()),Z.a.button(G()),Z.a.img(J())),X=Z.a.div(_());var ee=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),l=a[0],c=a[1],s=Object(n.useState)(!1),d=Object(i.a)(s,2),p=d[0],E=d[1],j=Object(n.useState)(""),O=Object(i.a)(j,2),v=O[0],S=O[1],x=b().setAuthTokens,y=e.location.state.referer||"/",w=function(e){var t=e.label,a=Object(m.a)(e,["label"]),n=Object(f.c)(a),l=Object(i.a)(n,2),c=l[0],o=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:a.id||a.name},t),r.a.createElement("input",Object.assign({className:"text-input"},c,a)),o.touched&&o.error?r.a.createElement("div",{className:"error"},o.error):null)};return l?r.a.createElement(u.a,{to:y}):r.a.createElement(Q,null,r.a.createElement($,{src:V.a}),r.a.createElement(f.b,{initialValues:{email:"",password:""},validationSchema:g.object({email:g.string().email("Invalid email addresss`").required("Required"),password:g.string().max(15,"Must be 15 characters or less").required("Required")}),onSubmit:function(e,t){t.setSubmitting;var a=e.email,n=e.password;h.a.post("/api/users/login",{email:a,password:n}).then((function(e){200===e.status?e.data.error?(S(e.data.error),E(!0)):(x(e.data),c(!0)):E(!0)})).catch((function(e){E(!0)}))}},r.a.createElement(f.a,null,r.a.createElement(w,{label:"Email Address",name:"email",type:"email",placeholder:"example@gmail.com"}),r.a.createElement(w,{label:"Password",name:"password",type:"text",placeholder:"passsword"}),r.a.createElement("button",{type:"submit"},"Submit"))),r.a.createElement(o.b,{to:"/signup"},"Don't have an account?"),p&&r.a.createElement(X,null,v))};var te=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(!1),s=Object(i.a)(o,2),d=s[0],p=s[1],E=Object(n.useState)(""),j=Object(i.a)(E,2),O=j[0],v=j[1],S=b().setAuthTokens;if(l)return r.a.createElement(u.a,{to:"/landing"});var x=function(e){var t=e.label,a=Object(m.a)(e,["label"]),n=Object(f.c)(a),l=Object(i.a)(n,2),c=l[0],o=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:a.id||a.name},t),r.a.createElement("input",Object.assign({className:"text-input"},c,a)),o.touched&&o.error?r.a.createElement("div",{className:"error"},o.error):null)};return r.a.createElement(Q,null,r.a.createElement($,{src:V.a}),r.a.createElement(f.b,{initialValues:{email:"",password:"",repassword:""},validationSchema:g.object({username:g.string().max(15,"Must be 15 characters or less").required("Required"),email:g.string().email("Invalid email addresss`").required("Required"),password:g.string().max(15,"Must be 15 characters or less").required("Required"),repassword:g.string().max(15,"Must be 15 characters or less").required("Required")}),onSubmit:function(e,t){t.setSubmitting;v();var a=e.username,n=e.email,r=e.password;r!==e.repassword?(v("The two passwords entered are not the same;"),p(!0)):h.a.post("/api/users/register",{username:a,email:n,password:r}).then((function(e){200===e.status?e.data.error?(v(e.data.error),p(!0)):(S(e.data),c(!0)):p(!0)})).catch((function(e){p(!0)}))}},r.a.createElement(f.a,null,r.a.createElement(x,{label:"User Name",name:"username",type:"text",placeholder:"user name"}),r.a.createElement(x,{label:"Email Address",name:"email",type:"email",placeholder:"example@gmail.com"}),r.a.createElement(x,{label:"Password",name:"password",type:"text",placeholder:"password"}),r.a.createElement(x,{label:"Password Again",name:"repassword",type:"text",placeholder:"password again"}),r.a.createElement("button",{type:"submit"},"Submit"))),d&&r.a.createElement(X,null,O))},ae=a(347),ne=a(348),re=a(349),le=a(354),ce=a(350),ie=a(351),oe=a(352),ue=a(353),me=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),l=a[0],c=a[1];return r.a.createElement("div",null,r.a.createElement(ae.a,{color:"light",light:!0,expand:"md"},r.a.createElement(ne.a,{href:"/"},"walkthru"),r.a.createElement(re.a,{onClick:function(){return c(!l)}}),r.a.createElement(le.a,{isOpen:l,navbar:!0},r.a.createElement(ce.a,{className:"mr-auto",navbar:!0},r.a.createElement(ie.a,null,r.a.createElement(oe.a,{tag:o.b,to:"/",className:"text-info"},"Home")),r.a.createElement(ie.a,null,r.a.createElement(oe.a,{tag:o.b,to:"/Landing",className:"text-info"},"Landing")),r.a.createElement(ie.a,null,r.a.createElement(oe.a,{tag:o.b,to:"/User",className:"text-info"},"Your Profile")),r.a.createElement(ie.a,null,r.a.createElement("button",{onClick:e.logOut},"Log Out"))),r.a.createElement(ue.a,null,"walkthru-ers are saying..."))))},se=function(){var e=function(e){var t=e.label,a=Object(m.a)(e,["label"]),n=Object(f.c)(a),l=Object(i.a)(n,2),c=l[0],o=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:a.id||a.name},t),r.a.createElement("input",Object.assign({className:"text-input"},c,a)),o.touched&&o.error?r.a.createElement("div",{className:"error"}," ",o.error," "):null)};return r.a.createElement(Q,null,r.a.createElement($,{src:V.a}),r.a.createElement("h1",null,"Create a new house/property!"),r.a.createElement(f.b,{initialValues:{street:"",city:"",st:"",zip:""},validationSchema:g.object({street:g.string().min(1,"Street Address must not be blank.").required("Required"),city:g.string().min(1,"City must not be blank.").required("Required"),st:g.string().max(2,"Please use the states abbreviation.").required("Required"),ZIP:g.string().min(5,"Zip Must be 5 digits.").max(5,"Zip Must be 5 digits.").required("Required")}),onSubmit:function(e,t){t.setSubmitting}},r.a.createElement(f.a,null,r.a.createElement(e,{label:"Street",name:"street",type:"text",placeholder:"Street Address"}),r.a.createElement(e,{label:"City",name:"city",type:"text",placeholder:"City"}),r.a.createElement(e,{label:"St",name:"st",type:"text",placeholder:"St"}),r.a.createElement(e,{label:"zip",name:"zip",type:"number",placeholder:"Zip"}),r.a.createElement("button",{type:"submit"},"Submit"))))};var be=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"404 Page Not Found"),r.a.createElement("h1",null,r.a.createElement("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji"},"\ud83d\ude44")))};var de=function(e){var t=Object(n.useState)(localStorage.getItem("authTokens")),a=Object(i.a)(t,2),l=a[0],c=a[1];return r.a.createElement(s.Provider,{value:{authTokens:l,setAuthTokens:function(e){localStorage.setItem("tokens",JSON.stringify(e)),c(e)}}},r.a.createElement(o.a,null,r.a.createElement("div",null,r.a.createElement(me,{logOut:function(){c()}}),r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/",component:p}),r.a.createElement(u.b,{path:"/login",component:ee}),r.a.createElement(u.b,{path:"/signup",component:te}),r.a.createElement(d,{path:"/api/houses/:id",component:U}),r.a.createElement(d,{path:"/user",component:z}),r.a.createElement(d,{path:"/landing",component:C}),r.a.createElement(d,{path:"/newHouseForm",component:se}),r.a.createElement(u.b,{component:be})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(de,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},39:function(e,t,a){e.exports=a.p+"static/media/walkthru.02c03c6a.JPG"},87:function(e,t,a){},88:function(e,t,a){}},[[156,1,2]]]);
//# sourceMappingURL=main.6ed7cbc1.chunk.js.map